<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>Weatherman Report</title>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.3/angular.min.js"></script>
	<script src="js/app.js"></script>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"><link>
	<link rel="stylesheet" href="https://bootswatch.com/cosmo/bootstrap.css"/>
</head>
<body ng-app="weatherman-module" ng-controller="MainController" ng-init="onload()">

 	<div class="container">
		<div>
			<h1><span class="glyphicon glyphicon-cloud"></span>My Weather</h1>
		</div>
		<form name="weatherForm" ng-submit="getWeather(weatherForm.$valid)" novalidate>
			<div class="form-group">
				<label>City</label>
				<input type="text" name="city" class="form-control" ng-model="city" placeholder="Enter city name" required>
			</div>
			<div class="form-group">
				<label>Temperature</label>
				<select name="unit" class="form-control" ng-model="unit" ng-init="unit='F'">
					<option value="C">Celcius</option>
					<option value="F" selected>Fahrenheit</option>
				</select>
			</div>

			<div class="form-group">
				<input type="submit" class="btn btn-primary" ng-disabled="weatherForm.$invalid"/>
				<input type="button" value="reset" class="btn btn-primary" ng-click="reset()"/>
			</div>
		</form>
		<div class="panel panel-success" ng-show="response">
			<div class="panel-heading">
				<h3 class="panel-title">Today's weather for {{response.name}},{{response.sys.country}} <button class="btn btn-info btn-sm" ng-click="addCity()"> Add to pref?</button></h3>
			</div>
			<div class="panel-body">
				<table class="table table-striped table-hover ">
					<thead>
						<tr>
							<th>right now</th>
							<th>max</th>
							<th>min</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td>{{response.main.temp}}<sup>{{unit}}</sup></td>
							<td>{{response.main.temp_max}}<sup>{{unit}}</sup></td>
							<td>{{response.main.temp_min}}<sup>{{unit}}</sup></td>
						</tr>
					</tbody>
				</table>
				<table class="table table-striped table-hover ">
					<thead>
					<tr>
						<th>wind Speed</th>
						<th>degree</th>
					</tr>
					</thead>
					<tbody>
					<tr class="active">
						<td>{{response.wind.speed}}</td>
						<td>{{response.wind.deg}}</td>
					</tr>
					</tbody>
				</table>
				<table class="table table-striped table-hover ">
					<thead>
					<tr>
						<th>condition</th>
					</tr>
					</thead>
					<tbody>
					<tr class="active">
						<td>{{response.weather[0].description | uppercase}}</td>
					</tr>
					</tbody>
				</table>
			</div>
		</div>
		<div >
			<table class="table table-striped table-hover ">
				<thead>
				<tr>
					<th>City</th>
					<th>Temp</th>
					<th>Condition</th>
					<th></th>
				</tr>
				<tr class="active" ng-repeat="p in prefResponse">
					<th>{{p.city}}</th>
					<th>{{p.temp}}<sup>F</sup></th>
					<th>{{p.condition}}</th>
					<th><button class="btn btn-primary btn-xs" ng-click="removePref(p.id)">Delete</button></th>
				</tr>
				</thead>
			</table>
		</div>
	</div>
</body>
</html>